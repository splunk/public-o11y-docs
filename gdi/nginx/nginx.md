(nginx)=
# NGINX
<meta name="description" content="Use this Splunk Observability Cloud integration for the NGINX monitor. See benefits, install, configuration, and metrics">

## Description

The Splunk Distribution of OpenTelemetry Collector provides this integration as the nginx monitor type for the Smart Agent Receiver. 

Use this integration to retrieve metrics and logs from an NGINX instance.

```{note}
This monitor is not available on Windows.
```

### Benefits

```{include} /_includes/benefits.md
```

## Installation

```{include} /_includes/collector-installation-linux.md
```

## Configuration

```{include} /_includes/configuration.md
```

```{note}
Provide an NGINX monitor entry in your Collector or Smart Agent (deprecated) configuration. Use the appropriate form for your agent type.
```

### Splunk Distribution of OpenTelemetry Collector

To activate this monitor in the Splunk Distribution of OpenTelemetry Collector, add the following to your agent configuration:

```yaml
receivers:
  smartagent/nginx:
    type: collectd/nginx
    ...  # Additional config
```

To complete the monitor activation, you must also include the `smartagent/nginx` receiver item in a `metrics` pipeline. To do this, add the receiver item to the `service` > `pipelines` > `metrics` > `receivers` section of your configuration file. For example:

```yaml
service:
  pipelines:
    metrics:
      receivers: [smartagent/nginx]
    logs:
      receivers: [smartagent/nginx]
```

```{note}
Configure NGINX to expose status information by editing the NGINX configuration. See `ngx_http_stub_status_module` on the NGINX documentation site.
```

### Smart Agent

To activate this monitor in the Smart Agent, add the following to your agent configuration:

```yaml
monitors:  # All monitor config goes under this key
 - type: collectd/nginx
   ...  # Additional config
```

See {ref}`smart-agent` for an autogenerated example of a YAML configuration file, with default values where applicable.

### Configuration settings

The following table shows the configuration options for this monitor:

| Option | Required | Type | Description |
| --- | --- | --- | --- |
| `host` | Yes | `string` | Hostname or IP address of the NGINX instance. For example, `127.0.0.1`. |
| `port` | Yes | `integer` | The port of the NGINX instance. For example, `8080`. |
| `name` | no | `string` | Name of the NGINX instance.  |
| `url` | no | `string` | URL of the status endpoint. The default value is `http://{{.Host}}:{{.Port}}/nginx_status`, which takes the values defined in `host` and `port`. |
| `username` | no | `string` | Username for HTTP basic authentication, if needed. |
| `password` | no | `string` | Password for HTTP basic authentication, if needed. |
| `timeout` | no | `integer` | Timeout in seconds for the request. The default value is `0`. |

## Metrics

The following metrics are available for this integration:

<div class="metrics-yaml" url="https://raw.githubusercontent.com/signalfx/integrations/main/nginx/metrics.yaml"></div>

### Notes

```{include} /_includes/metric-defs.md
```

## Get help

```{include} /_includes/troubleshooting.md
```
